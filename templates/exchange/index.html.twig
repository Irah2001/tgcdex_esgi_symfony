{% extends 'base.html.twig' %}

{% block title %}Hello ExchangeController!{% endblock %}

{% block stylesheets %}
<style>
.exchanges {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    margin: 0 5%;
}

.exchanges a {
    flex: 1 0 18%;
    margin: 5px;
    max-width: 20vw;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.exchanges a div {
    width: 100%;
    position: relative;
}

img.main-img {
    width: 100%;
    border-radius: 20px;
}

img.child-img{
    width: 40%;
    position: absolute;
    right: 4%;
    bottom: 4%;
}

h1 {
    text-align: center;
    width: 100%;
    font-size: 3rem;
}
.top {
    display: flex;
    justify-content: space-around;
    align-items: center;
}
.top * {
    width: 33%;
}
.top a {
    text-align: right;
    font-size: 1.5rem;
}
</style>
{% endblock %}

{% block body %}
<div class="top">
    <span></span>
    <h1>Échanges</h1>
    <a href="/exchange-create">Créer un échange</a>
</div>
<div class="exchanges">
{% for exchange in exchanges %}
    {% if exchange.getExecutedAt() == null %}    
    <a href="/exchange/{{ exchange.getId() }}">
        <div class="images">
            <img class="main-img" src="{{ exchange.getGivenCards()[0].getImgUrl() }}" />
            <img class="child-img" src="{{ exchange.getGainCards()[0].getImgUrl() }}" />
        </div>
        <p>Échange de {{ exchange.getSender().getEmail() }}</p>
    </a>
    {% endif %}
{% endfor %}
</div>
{% endblock %}
